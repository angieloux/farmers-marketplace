<%= form_with model: listing, class: 'listing' do |form| %>
    <%= if listing.errors.any? %>
        <div id="error_explanation">
        <h2><%= pluralize(listing.errors.count, 'error') %> prohibited this listing from being saved: </h2>
        <ul>
            <% listing.errors.full_messages.each do |error| %>
                <li><%= error %></li>
                <% end %>
        </ul>
    
    <%= form.label :name %>
    <%= form.text_field :name %>

    <%= form.label :image %>
    <%= form.file_field :image %>

    <%= form.label :category %>
    <%= form.select :category, Listing.all.collect{|p|p.category}.uniq %>

    <%= form.label :description %>
    <%= form.text_field :description, size: 30 %>

    <%= form.label :price %>
    <%= form.number_field :price %>
    
    <%= form.submit %>

<% end %>